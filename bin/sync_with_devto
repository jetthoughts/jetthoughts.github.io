#!/usr/bin/env ruby

# Add lib directory to load path
lib_dir = File.expand_path("../lib", __dir__)
$LOAD_PATH.unshift(lib_dir) unless $LOAD_PATH.include?(lib_dir)

require "sync/app"
require "sync/sync_script"

logger = Logger.new(STDOUT, level: :debug)

app = App.new(args: ARGV, logger: logger, fetcher: ArticleFetcher.new, working_dir: "content/blog")
Sync::Post.configure(app.working_dir)

SyncScript.perform(app: app)
