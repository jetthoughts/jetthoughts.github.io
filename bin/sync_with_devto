#!/usr/bin/env ruby

# Add lib directory to load path
lib_dir = File.expand_path("../lib", __dir__)
$LOAD_PATH.unshift(lib_dir) unless $LOAD_PATH.include?(lib_dir)

require "sync/app"
require "sync/sync_script"

logger = Logger.new(STDOUT, level: :debug)

App.configure do |config|
  config.logger = logger
end

app = App.new(args: ARGV, fetcher: ArticleFetcher.new)

SyncScript.perform(app: app)
