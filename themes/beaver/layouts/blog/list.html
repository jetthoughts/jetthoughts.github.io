{{ define "main" }}
  <div id="fl-main-content" class="fl-page-content" itemprop="mainContentOfPage" role="main">
    <div class="fl-builder-content fl-builder-content-741 fl-builder-global-templates-locked" data-post-id="741">
      <div class="fl-row fl-row-full-width fl-row-bg-photo fl-node-efmcw3bh18k5 fl-row-default-height fl-row-align-center fl-row-has-layers"
        data-node="efmcw3bh18k5">
        <div class="fl-row-content-wrap">
          <div class="blog fl-row-content fl-row-fixed-width fl-node-content">

            <div style="max-width: 960px; margin:0 auto; padding-left:18px;padding-right:18px">
              <div style="max-width: 43rem;">
                <h1 class="fl-heading" style="margin: 0!important;padding: 0!important">Blog</h1>

                <p>Browse through our blog page filled with updated information and the
                latest tips to help you achieve your goals.</p>

                <br>
              
                {{ range (.Paginate (.Pages.ByParam "created_at").Reverse).Pages }}
                <a class="link" href="{{ .Permalink }}">
                  <div class="blog-post">
                    <div class="post-image">
                      {{ $cdnPrefix := "https://imagecdn.app/v1/images/" }}
                      {{ $src := "" }}
                      {{ with .Params.cover_image }}
                        {{ $encodedSrc := printf "%s%s" $cdnPrefix (urlquery .) }}
                        {{ $src = printf "%s?width=150&height=150" $encodedSrc }}
                      {{ else }}
                        {{ $src = "/assets/img/no-image.png" }}
                      {{ end }}

                      <img src="{{ $src }}" alt="Placeholder Image" loading="lazy" decoding="async">

                    </div>
                    <div class="post-content">
                      <h2 class="post-title">{{ .Title }}</h2>
                      <div class="post-meta">
                        <div class="post-tags">{{ range .Params.tags }}<a href="/blog/tags/{{ . | urlize }}/">#{{ . }}</a> {{ end }}</div>
                        {{ if .Params.created_at }}
                        <span class="post-date">{{ dateFormat "Jan 2, 2006" .Params.created_at }}</span>
                        {{ end }}
                      </div>
                    </div>
                  </div>
                </a>
                {{ end }}

                {{ partial "pagination.html" . }}
            </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{{ end }}
