{{/*
  thoughtbot-value shortcode
  Creates a value/principle block with thoughtbot-style sentence case heading

  Usage:
  {{< thoughtbot-value
      icon="trust-transparency"
      title="Trust and transparency"
      description="Trust is our most important company value because it's essential for any successful long-term relationship." >}}

  Or with content block:
  {{< thoughtbot-value icon="trust-transparency" title="Trust and transparency" >}}
  Trust is our most important company value because it's essential for any successful long-term relationship. In order to build trust, we believe in the need for transparency.
  {{< /thoughtbot-value >}}
*/}}

{{ $icon := .Get "icon" | default "" }}
{{ $title := .Get "title" | default "" }}
{{ $description := .Get "description" | default "" }}
{{ $content := .Inner }}

<div class="thoughtbot-value">
  {{ if $icon }}
    <div class="value-icon">
      {{ if hasPrefix $icon "theme/" }}
        {{ partial "svg" $icon }}
      {{ else }}
        {{ partial "svg" (printf "theme/%s" $icon) }}
      {{ end }}
    </div>
  {{ end }}

  {{ if $title }}
    <h3 class="value-title">{{ $title | markdownify }}</h3>
  {{ end }}

  <div class="value-description">
    {{ if $content }}
      {{ $content | markdownify }}
    {{ else if $description }}
      <p>{{ $description | markdownify }}</p>
    {{ end }}
  </div>
</div>