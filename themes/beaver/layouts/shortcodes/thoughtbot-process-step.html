{{/*
  thoughtbot-process-step shortcode
  Creates a process step with thoughtbot-style formatting

  Usage:
  {{< thoughtbot-process-step
      number="1"
      title="Discovery and planning"
      description="We start every project with a discovery phase to understand your goals and constraints." >}}

  Or with content block:
  {{< thoughtbot-process-step number="1" title="Discovery and planning" >}}
  We start every project with a discovery phase to understand your goals and constraints. This helps us create a roadmap that aligns with your business objectives.
  {{< /thoughtbot-process-step >}}
*/}}

{{ $number := .Get "number" | default "" }}
{{ $title := .Get "title" | default "" }}
{{ $description := .Get "description" | default "" }}
{{ $content := .Inner }}

<div class="thoughtbot-process-step">
  {{ if $number }}
    <div class="step-number">
      <span>{{ $number }}</span>
    </div>
  {{ end }}

  <div class="step-content">
    {{ if $title }}
      <h3 class="step-title">{{ $title | markdownify }}</h3>
    {{ end }}

    <div class="step-description">
      {{ if $content }}
        {{ $content | markdownify }}
      {{ else if $description }}
        <p>{{ $description | markdownify }}</p>
      {{ end }}
    </div>
  </div>
</div>