# Agile Sprint Management Framework

**CRITICAL: How-To Guide for Sprint-Driven Development**

## ‚ö° CRITICAL DISTINCTION: Sprints vs Iterations vs Micro-Refactoring

**IMPORTANT**: This framework properly separates three distinct concepts:

```yaml
hierarchy_clarification:
  sprints:
    definition: "2-week development periods for major goal achievement"
    duration: "14 days"
    team_capacity: "400 hours (5 developers √ó 2 weeks √ó 40 hours)"
    contains: "2 weekly iterations"
    focus: "Sprint goal delivery and stakeholder value"

  iterations:
    definition: "1-week development cycles within sprints"
    duration: "7 days"
    team_capacity: "200 hours (5 developers √ó 40 hours)"
    purpose: "Focused development work with rapid feedback"
    planning_unit: "Primary unit for capacity and story planning"

  micro_refactoring:
    definition: "Quality technique for safe code changes during development"
    scope: "Individual code modifications within iteration tasks"
    size_limit: "3 lines per change, 50 lines per task"
    purpose: "Maintain code quality and prevent regressions"
    relationship: "Technique used WITHIN iteration development work"

key_understanding:
  - "Iterations are NOT 3-line changes"
  - "Iterations are 1-week development cycles with 5 developers"
  - "Micro-refactoring is a quality technique used during iterations"
  - "WIP limits apply at iteration level, not micro-change level"
```

## üìÖ Sprint and Iteration Structure

**SPRINT FRAMEWORK**: 2-week sprints containing 2 weekly iterations for focused development cycles.

```yaml
sprint:
  number: 1
  name: "Foundation Sprint"
  duration: "2 weeks"  # Contains 2 weekly iterations
  start_date: "2025-01-06"
  end_date: "2025-01-20"
  velocity_target: 40
  total_capacity: 400  # hours (5 developers √ó 2 weeks √ó 40 hours)

iteration_structure:
  iteration_1:
    duration: "1 week"
    dates: "2025-01-06 to 2025-01-12"
    team_size: 5  # developers
    capacity_per_developer: 40  # hours per week
    total_iteration_capacity: 200  # hours (5 √ó 40)
    focus: "Foundation setup and core implementation"

  iteration_2:
    duration: "1 week"
    dates: "2025-01-13 to 2025-01-20"
    team_size: 5  # developers
    capacity_per_developer: 40  # hours per week
    total_iteration_capacity: 200  # hours (5 √ó 40)
    focus: "Integration, testing, and sprint goal completion"

team_capacity_calculation:
  developers: 5
  hours_per_developer_per_week: 40
  weekly_iteration_capacity: 200  # hours
  sprint_capacity: 400  # hours (2 iterations)
  focus_factor: 75%  # actual productive time
  effective_sprint_capacity: 300  # hours
```

## üéØ WIP LIMITS ENFORCEMENT (MANDATORY)

**CRITICAL: All development MUST follow strict WIP limits at iteration and developer levels:**

```yaml
wip_limits:
  # Organizational Level
  active_goals: 1        # Only ONE goal at a time
  active_sprints: 1      # Only ONE sprint active
  active_iterations: 1   # Only ONE iteration active at a time

  # Team Level (per iteration)
  active_job_stories: 3  # Maximum 3 stories in progress (5 developers)
  active_tasks: 5        # One task per developer maximum

  # Developer Level
  stories_per_developer: 1     # Only ONE story per developer
  tasks_per_developer: 1       # Only ONE task per developer
  micro_changes_per_task: unlimited  # 3-line changes within tasks

wip_enforcement:
  iteration_level: true    # Enforce at weekly iteration level
  developer_level: true    # Enforce at individual developer level
  micro_change_level: false # Micro-refactoring is a technique, not WIP unit
  block_exceeding: true
  alert_at_100_percent: true
  auto_validation: true
  cooperative_decomposition: required
```

## üìä Sprint Goals & Job Stories

### Current Sprint Goal
**Primary Objective**: Establish Agile-compliant CLAUDE.md structure with hugo site quality framework integration

### üìù Job Stories Format (Complete Templates)

#### Job Story Template Structure

```yaml
job_story_template:
  format: "When I [situation], I want to [motivation], so I can [expected outcome]"

  components:
    situation:
      description: "The context and circumstances when the need arises"
      examples:
        - "When I am reviewing pull requests"
        - "When I need to deploy a new feature"
        - "When I encounter a bug in production"

    motivation:
      description: "What the user wants to accomplish (the desire)"
      examples:
        - "I want to ensure code quality standards"
        - "I want to minimize deployment risks"
        - "I want to quickly identify root causes"

    expected_outcome:
      description: "The benefit or value delivered (the outcome)"
      examples:
        - "so I can maintain high code quality across the team"
        - "so I can deploy with confidence and minimal downtime"
        - "so I can restore service quickly and prevent recurrence"

  quality_criteria:
    - independent: "Can be developed and delivered independently"
    - negotiable: "Details can be discussed and refined"
    - valuable: "Delivers clear business or user value"
    - estimable: "Size and complexity can be estimated"
    - small: "Can be completed within one sprint"
    - testable: "Has clear acceptance criteria"
```

#### Job Story Examples for JT Site Development

```yaml
example_job_stories:
  content_management:
    id: "JT-CONTENT-001"
    story: "When I am creating new blog posts, I want to use standardized templates and workflows, so I can maintain consistency and reduce publishing time"
    acceptance_criteria:
      - given: "A new blog post needs to be created"
        when: "I use the content creation workflow"
        then: "The post follows standard structure and is ready for review"
    story_points: 5

  site_performance:
    id: "JT-PERF-001"
    story: "When I deploy site updates, I want automated performance validation, so I can ensure user experience remains optimal"
    acceptance_criteria:
      - given: "Site changes are ready for deployment"
        when: "Performance tests run automatically"
        then: "Performance metrics meet or exceed baseline requirements"
    story_points: 8

  accessibility_compliance:
    id: "JT-A11Y-001"
    story: "When I develop new site features, I want automated accessibility checking, so I can ensure compliance with WCAG guidelines"
    acceptance_criteria:
      - given: "New UI components are implemented"
        when: "Accessibility tests are executed"
        then: "All components meet WCAG 2.1 AA standards"
    story_points: 3
```

## üë• AGILE AGENT ROLES & COORDINATION

### üé≠ Scrum Team Agent Configuration

#### Product Owner Agent
```yaml
name: "product-owner"
responsibilities:
  - backlog_prioritization
  - acceptance_criteria_definition
  - stakeholder_communication
  - sprint_goal_setting
  - job_story_validation
hooks:
  pre: |
    echo "üéØ Product Owner: Validating sprint goals and WIP limits"
    npx claude-flow@alpha hooks pre-sprint --role "product-owner" --validate-wip
  post: |
    echo "‚úÖ Product Owner: Sprint acceptance validation complete"
    npx claude-flow@alpha hooks post-sprint --validate-acceptance
```

#### Scrum Master Agent
```yaml
name: "scrum-master"
responsibilities:
  - impediment_removal
  - ceremony_facilitation
  - wip_limits_enforcement
  - team_velocity_tracking
  - process_improvement
  - cooperative_decomposition_coordination
hooks:
  daily: |
    echo "üìã Scrum Master: Facilitating daily standup with WIP validation"
    npx claude-flow@alpha hooks daily-standup --collect-updates --validate-wip
  sprint: |
    echo "üîÑ Scrum Master: Sprint ceremony coordination"
    npx claude-flow@alpha hooks sprint-ceremony --type "$CEREMONY_TYPE"
```

#### Development Team Agents (5-Developer Team)
```yaml
team_composition:
  - name: "lead-developer"
    capacity: 40  # hours per iteration (1 week)
    sprint_capacity: 80  # hours per sprint (2 weeks)
    skills: ["architecture", "hugo", "javascript", "mentoring"]
    wip_limit: 1  # one story at a time

  - name: "hugo-developer"
    capacity: 40  # hours per iteration
    sprint_capacity: 80  # hours per sprint
    skills: ["hugo", "markdown", "scss", "javascript", "testing"]
    wip_limit: 1

  - name: "frontend-developer"
    capacity: 40  # hours per iteration
    sprint_capacity: 80  # hours per sprint
    skills: ["css", "javascript", "responsive-design", "accessibility"]
    wip_limit: 1

  - name: "content-developer"
    capacity: 40  # hours per iteration
    sprint_capacity: 80  # hours per sprint
    skills: ["content-creation", "seo", "markdown", "accessibility"]
    wip_limit: 1

  - name: "qa-engineer"
    capacity: 40  # hours per iteration
    sprint_capacity: 80  # hours per sprint
    skills: ["testing", "accessibility", "performance", "validation"]
    wip_limit: 1

iteration_capacity_totals:
  weekly_iteration: 200  # hours (5 √ó 40)
  sprint_total: 400      # hours (2 √ó 200)
  effective_capacity: 300 # hours (75% focus factor)
```

## üìà AGILE METRICS & SPRINT TRACKING

### üî• Velocity Tracking & Burndown
```yaml
velocity_metrics:
  current_sprint: 35  # story points
  rolling_average: 38  # last 3 sprints
  capacity_utilization: 87.5%

burndown_chart:
  ideal_line: linear
  actual_progress: [40, 35, 32, 28, 24, 20, 15, 10, 5, 0]
  current_day: 5
  remaining_points: 24

wip_metrics:
  goals_in_progress: 1
  sprints_active: 1
  job_stories_active: 1
  tasks_active: 1
  wip_efficiency: 98.2%
```

### üéØ Prioritization Frameworks

#### MoSCoW Method Implementation

```yaml
moscow_prioritization:
  framework:
    must_have:
      description: "Critical requirements that must be delivered for success"
      criteria:
        - business_critical: "Essential for business operation"
        - compliance_required: "Regulatory or legal requirement"
        - user_blocking: "Prevents core user workflows"
      jt_site_examples:
        - responsive_design: "Site must work on all devices"
        - content_publishing: "Ability to publish and manage blog content"
        - site_performance: "Page load times under 3 seconds"

    should_have:
      description: "Important but not critical; can be delayed if necessary"
      criteria:
        - user_experience: "Significantly improves user experience"
        - competitive_advantage: "Provides business differentiation"
        - efficiency_gain: "Improves operational efficiency"
      jt_site_examples:
        - advanced_search: "Enhanced content search capabilities"
        - social_sharing: "Social media integration and sharing"
        - newsletter_signup: "Email subscription functionality"

    could_have:
      description: "Nice to have features that add value but aren't essential"
      criteria:
        - enhancement: "Enhances existing functionality"
        - convenience: "Provides user convenience"
        - future_planning: "Sets foundation for future features"
      jt_site_examples:
        - dark_mode: "Dark theme option for users"
        - comment_system: "Blog post commenting functionality"
        - content_rating: "User rating system for articles"

    wont_have:
      description: "Features explicitly excluded from current scope"
      criteria:
        - out_of_scope: "Not aligned with current objectives"
        - resource_intensive: "Requires more resources than available"
        - low_value: "Provides minimal user or business value"
      jt_site_examples:
        - e_commerce: "Online store functionality"
        - user_accounts: "User registration and profiles"
        - real_time_chat: "Live chat support system"
```

#### WSJF (Weighted Shortest Job First) Calculations

```yaml
wsjf_prioritization:
  calculation_formula:
    wsjf_score: "(User_Business_Value + Time_Criticality + Risk_Reduction) / Job_Size"

  scoring_criteria:
    user_business_value:
      scale: "1-10 (Fibonacci: 1, 2, 3, 5, 8)"
      definition: "Relative benefit to users and business"

    time_criticality:
      scale: "1-10 (Fibonacci: 1, 2, 3, 5, 8)"
      definition: "How time-sensitive the feature is"

    risk_reduction:
      scale: "1-10 (Fibonacci: 1, 2, 3, 5, 8)"
      definition: "How much risk the feature mitigates"

    job_size:
      scale: "1-13 (Fibonacci: 1, 2, 3, 5, 8, 13)"
      definition: "Relative size/effort required for implementation"

  jt_site_wsjf_examples:
    responsive_design:
      user_business_value: 8
      time_criticality: 8
      risk_reduction: 5
      job_size: 5
      wsjf_score: 4.2  # (8+8+5)/5

    content_management:
      user_business_value: 8
      time_criticality: 5
      risk_reduction: 3
      job_size: 3
      wsjf_score: 5.3  # (8+5+3)/3

    social_sharing:
      user_business_value: 3
      time_criticality: 2
      risk_reduction: 1
      job_size: 2
      wsjf_score: 3.0  # (3+2+1)/2
```

## üèóÔ∏è Sprint Ceremonies (Detailed Structure)

### Sprint Planning Ceremony

```yaml
sprint_planning:
  ceremony_structure:
    duration: "2-4 hours (2-week sprint)"
    mandatory_participants: [ "product-owner", "scrum-master", "development-team", "stakeholders" ]

  part_1_what_to_do:
    duration: "50% of ceremony time"
    activities:
      - sprint_goal_definition:
          responsibility: "product-owner"
          outcome: "Clear, measurable sprint goal"
          validation: "Team understanding and commitment"

      - backlog_review:
          responsibility: "product-owner"
          outcome: "Prioritized and refined backlog items"
          validation: "Stories meet Definition of Ready"

      - story_selection:
          responsibility: "development-team"
          outcome: "Sprint backlog with committed stories"
          validation: "Capacity and velocity alignment"

      - wip_limits_validation:
          responsibility: "scrum-master"
          outcome: "WIP limits respected in planning"
          validation: "Single active goal/sprint/story confirmation"

  part_2_how_to_do:
    duration: "50% of ceremony time"
    activities:
      - task_decomposition:
          responsibility: "development-team"
          outcome: "Stories broken into actionable tasks"
          validation: "Tasks are <8 hours, clearly defined"

      - technical_planning:
          responsibility: "technical-lead"
          outcome: "Technical approach and architecture decisions"
          validation: "Feasibility and risk assessment complete"

      - capacity_planning:
          responsibility: "scrum-master"
          outcome: "Realistic sprint commitment based on team capacity"
          validation: "Historical velocity and availability considered"

      - definition_of_done_review:
          responsibility: "entire-team"
          outcome: "Shared understanding of completion criteria"
          validation: "All team members can articulate DoD"
```

### Daily Standup Ceremony

```yaml
daily_standup:
  ceremony_structure:
    duration: "15 minutes maximum"
    frequency: "Daily at consistent time"
    mandatory_participants: [ "development-team", "scrum-master" ]
    optional_participants: [ "product-owner", "stakeholders" ]

  three_questions_format:
    what_did_i_do:
      focus: "Progress toward sprint goal"
      validation: "Specific accomplishments, not just activities"
      wip_check: "Confirm single-task focus maintained"

    what_will_i_do:
      focus: "Next steps toward sprint goal"
      validation: "Clear, actionable next steps"
      capacity_check: "Realistic based on remaining capacity"

    what_impediments:
      focus: "Blockers preventing progress"
      validation: "Specific impediments requiring help"
      action_plan: "Clear owner and resolution plan"

  wip_limits_validation:
    active_task_check: "Each team member working on exactly one task"
    story_progress_check: "Only one story active per team member"
    sprint_goal_alignment: "All work aligns with sprint goal"
    impediment_escalation: "WIP-blocking impediments escalated immediately"
```

### Sprint Review Ceremony

```yaml
sprint_review:
  ceremony_structure:
    duration: "1-2 hours (2-week sprint)"
    mandatory_participants: [ "product-owner", "scrum-master", "development-team", "key-stakeholders" ]

  review_activities:
    sprint_goal_assessment:
      responsibility: "scrum-master"
      outcome: "Clear assessment of sprint goal achievement"
      validation: "Objective measurement against defined criteria"

    product_increment_demo:
      responsibility: "development-team"
      outcome: "Working software demonstrated to stakeholders"
      validation: "All completed stories meet Definition of Done"

    stakeholder_feedback:
      responsibility: "product-owner"
      outcome: "Stakeholder input on product direction and priorities"
      validation: "Feedback documented and prioritized"

    backlog_updates:
      responsibility: "product-owner"
      outcome: "Product backlog updated based on review insights"
      validation: "New priorities and stories added as needed"
```

### Sprint Retrospective Ceremony

```yaml
sprint_retrospective:
  ceremony_structure:
    duration: "1-1.5 hours (2-week sprint)"
    mandatory_participants: [ "scrum-master", "development-team" ]
    optional_participants: [ "product-owner" ]

  retrospective_format:
    what_went_well:
      focus: "Positive practices and successes to continue"
      validation: "Specific examples with measurable impact"
      action: "Document practices to maintain"

    what_could_improve:
      focus: "Challenges and areas for improvement"
      validation: "Specific issues with actionable solutions"
      action: "Prioritize improvements for next sprint"

    action_items:
      focus: "Concrete steps to implement improvements"
      validation: "Clear owner, timeline, and success criteria"
      action: "Commit to specific improvements"

  improvement_tracking:
    action_item_monitoring: "Track completion of retrospective actions"
    metric_improvement: "Measure impact of implemented changes"
    continuous_evolution: "Process improvements compound over time"
    team_ownership: "Team owns their process improvement"
```

## üîÑ COOPERATIVE DECOMPOSITION PROTOCOLS

### üß© Task Decomposition Framework

**MANDATORY: All job stories MUST be cooperatively decomposed following Agile principles:**

```yaml
cooperative_decomposition:
  job_story_breakdown:
    max_story_points: 8
    min_story_points: 1
    ideal_story_points: 3-5

  decomposition_process:
    1. "Identify user value delivery"
    2. "Break into testable increments"
    3. "Ensure independent deliverables"
    4. "Validate INVEST criteria"
    5. "Assign story points cooperatively"

  invest_criteria:
    independent: required
    negotiable: required
    valuable: required
    estimable: required
    small: required
    testable: required
```

## üöÄ AGILE QUICK START COMMANDS

### Sprint Initialization
```bash
# Initialize new sprint with proper configuration
npx claude-flow@alpha sprint init \
  --duration "2-weeks" \
  --iterations 2 \
  --team-size 5 \
  --velocity-target 40 \
  --enforce-wip-limits

# Set sprint goal
npx claude-flow@alpha sprint set-goal \
  --goal "Establish Agile-compliant CLAUDE.md structure" \
  --success-criteria "All agents follow sprint boundaries and WIP limits"
```

### Daily Workflow
```bash
# Daily standup automation
npx claude-flow@alpha scrum daily-standup \
  --collect-updates \
  --identify-blockers \
  --update-burndown \
  --validate-wip-limits \
  --duration "15-minutes"

# Sprint progress tracking
npx claude-flow@alpha sprint status \
  --burndown-chart \
  --velocity-tracking \
  --wip-compliance
```

### Ceremony Automation
```bash
# Sprint Planning
npx claude-flow@alpha scrum sprint-planning \
  --duration "4-hours" \
  --participants "product-owner,scrum-master,development-team" \
  --sprint-goal "$SPRINT_GOAL" \
  --enforce-wip-limits \
  --validate-capacity

# Sprint Review
npx claude-flow@alpha scrum sprint-review \
  --demo-completed-work \
  --collect-feedback \
  --update-product-backlog \
  --assess-sprint-goal \
  --duration "2-hours"

# Sprint Retrospective
npx claude-flow@alpha scrum retrospective \
  --collect-feedback \
  --identify-improvements \
  --create-action-items \
  --track-previous-actions \
  --duration "90-minutes"
```

## Agent Memory Coordination

```bash
# Each agent uses unique coordination key with sprint context
tests/generated/{agent-name}/sprint-{number}/*

# Check existing tests before creating new ones
npx claude-flow@alpha hooks memory-search \
  --pattern "tests/generated/*" \
  --key "*{test-topic}*" \
  --sprint-context "sprint-1"

# Store sprint-specific progress
npx claude-flow@alpha hooks memory-store \
  --key "sprint/1/progress/{agent-name}" \
  --value "$TASK_PROGRESS"
```

---

**Reference**: This handbook provides the complete Agile Sprint Framework for jt_site development. Consult `60.01-agent-guidance-reference.md` for additional context and related handbooks.