# 25.03 Agent Retrospective Recording: Step-by-Step Guide

**Document Type**: How-To Guide
**Classification**: Critical Process Guide
**Di√°taxis Type**: How-To (Problem-Oriented)
**Created**: 2025-09-28
**Status**: Production Ready
**Authority**: Extends global retrospective processes with project-specific implementation

## Overview

This document provides comprehensive step-by-step guidance for agents to conduct and record retrospective sessions effectively. Designed to ensure consistent, thorough retrospective analysis that captures learning outcomes and prevents future failures.

## Johnny Decimal Classification

- **Area 25**: Retrospective and Learning Systems
- **25.03**: Agent retrospective recording guide (this document)
- **Related**: 25.01 (Master framework), 25.02 (Failure pattern library)

## When to Use This Guide

### Mandatory Retrospective Triggers
- **Crisis Response**: User reports system failures or degraded functionality
- **False Success Detection**: Success claims contradicted by evidence
- **Methodology Violations**: TDD, Four-Eyes, or Quality violations detected
- **Pattern Recognition**: Recurring issues or emerging patterns identified
- **Sprint Completion**: End of development sprint or major milestone
- **Quality Concerns**: Declining quality metrics or standards violations

### Optional Learning Opportunities
- **Process Improvements**: Opportunities to enhance development processes
- **Agent Enhancement**: Individual agent learning and improvement opportunities
- **Institutional Learning**: Broader organizational learning opportunities
- **Success Analysis**: Analysis of particularly successful outcomes

## Pre-Retrospective Preparation

### Step 1: Retrospective Type Identification

**Problem**: Need to determine appropriate retrospective approach
**Solution**: Classify retrospective type based on trigger conditions

```yaml
retrospective_type_classification:
  crisis_response_retrospective:
    triggers: ["user_problem_reports", "system_failures", "false_success_detection"]
    urgency: "immediate"
    participants: "multi_agent_crisis_team"
    duration: "comprehensive_until_resolution"

  routine_learning_retrospective:
    triggers: ["sprint_completion", "milestone_achievement", "process_review"]
    urgency: "scheduled"
    participants: "project_team_agents"
    duration: "60_90_minutes"

  pattern_recognition_retrospective:
    triggers: ["recurring_issues", "emerging_patterns", "quality_trends"]
    urgency: "within_24_hours"
    participants: "relevant_domain_experts"
    duration: "90_120_minutes"
```

### Step 2: Participant Coordination

**Problem**: Ensure appropriate agent participation for comprehensive analysis
**Solution**: Use systematic participant selection based on retrospective type

```bash
# Crisis Response Retrospective Participants
crisis_retrospective_participants() {
    echo "üö® CRISIS RETROSPECTIVE PARTICIPANTS:"
    echo "  - Primary Agent: Agent who detected or was involved in the issue"
    echo "  - Domain Expert: Expert in relevant domain (Security, QA, Architecture, etc.)"
    echo "  - Reviewer Agent: Independent perspective for validation"
    echo "  - Coordination Expert: Facilitate retrospective process"
    echo "  - Knowledge Expert: Ensure learning is properly captured"
}

# Routine Learning Retrospective Participants
routine_retrospective_participants() {
    echo "üìÖ ROUTINE RETROSPECTIVE PARTICIPANTS:"
    echo "  - Sprint Team: All agents involved in sprint work"
    echo "  - QA Expert: Quality perspective and standards validation"
    echo "  - Knowledge Expert: Learning capture and documentation"
    echo "  - Coordination Expert: Process facilitation"
}

# Pattern Recognition Retrospective Participants
pattern_retrospective_participants() {
    echo "üîç PATTERN RETROSPECTIVE PARTICIPANTS:"
    echo "  - Pattern Identifier: Agent who identified the pattern"
    echo "  - Domain Experts: Experts relevant to pattern domain"
    echo "  - Historical Context: Agents with knowledge of similar past patterns"
    echo "  - Prevention Specialist: Focus on prevention mechanism development"
}
```

### Step 3: Information Gathering

**Problem**: Ensure comprehensive information collection before analysis
**Solution**: Systematic collection of relevant data and context

```yaml
information_gathering_checklist:
  incident_data:
    timeline: "Complete sequence of events leading to retrospective trigger"
    evidence: "All available evidence including logs, test results, user reports"
    context: "Surrounding circumstances and conditions"
    impact: "Assessment of impact on users, system, and organization"

  agent_perspectives:
    involved_agents: "Perspectives from all agents involved in the situation"
    independent_observations: "Observations from agents not directly involved"
    domain_expertise: "Specialized knowledge relevant to the situation"
    historical_context: "Knowledge of similar previous situations"

  system_state:
    current_state: "Current system state and functionality"
    expected_state: "What the system state should be"
    differences: "Analysis of gaps between current and expected"
    dependencies: "System dependencies and relationships affected"
```

## Retrospective Session Execution

### Step 4: Session Opening and Framework Setup

**Problem**: Establish productive retrospective environment and clear objectives
**Solution**: Structured session opening with clear framework establishment

```yaml
session_opening_protocol:
  psychological_safety:
    blameless_culture: "Establish blameless environment focused on learning"
    learning_focus: "Emphasize learning over blame or punishment"
    collective_improvement: "Frame as collective improvement opportunity"
    institutional_benefit: "Connect to broader institutional improvement"

  objective_setting:
    primary_objective: "Clearly state primary retrospective objective"
    success_criteria: "Define what constitutes successful retrospective"
    learning_goals: "Identify specific learning goals"
    outcome_expectations: "Set expectations for actionable outcomes"

  framework_application:
    retrospective_type: "Confirm retrospective type and appropriate framework"
    time_boundaries: "Establish time boundaries and agenda"
    documentation_plan: "Agree on documentation and follow-up plan"
    memory_coordination: "Plan for institutional memory integration"
```

### Step 5: Root Cause Analysis (5-Why Methodology)

**Problem**: Identify underlying causes rather than surface symptoms
**Solution**: Systematic application of 5-Why methodology with documentation

```yaml
five_why_analysis_process:
  why_1_immediate_cause:
    question: "Why did the specific incident/issue occur?"
    focus: "Direct, immediate cause of the incident"
    evidence: "Concrete evidence supporting the immediate cause"
    documentation: "Clear documentation of immediate cause"

  why_2_underlying_factor:
    question: "Why did this immediate cause occur?"
    focus: "Underlying factors that enabled the immediate cause"
    evidence: "Evidence of underlying conditions or decisions"
    documentation: "Connection between immediate and underlying causes"

  why_3_systemic_issue:
    question: "Why did these underlying factors exist?"
    focus: "Systemic issues in processes, tools, or organization"
    evidence: "Evidence of systemic gaps or weaknesses"
    documentation: "Identification of systemic improvement opportunities"

  why_4_prevention_gap:
    question: "Why didn't our prevention mechanisms catch this?"
    focus: "Gaps in prevention, detection, or validation systems"
    evidence: "Analysis of where prevention mechanisms failed"
    documentation: "Specific prevention mechanism improvements needed"

  why_5_root_organizational_cause:
    question: "Why do these prevention gaps exist in our organization?"
    focus: "Root organizational causes enabling the entire chain"
    evidence: "Organizational, cultural, or institutional factors"
    documentation: "Fundamental organizational improvements needed"
```

#### Example 5-Why Analysis Template
```yaml
example_five_why_sprint_2_test_masking:
  why_1: "Why did agents use test masking instead of fixing functionality?"
  answer_1: "Time pressure led to choosing skip() over implementing proper fix"

  why_2: "Why was time pressure prioritized over quality methodology?"
  answer_2: "No behavioral constraints preventing test masking under pressure"

  why_3: "Why were there no behavioral constraints against test masking?"
  answer_3: "Agent configurations lacked specific anti-test-masking patterns"

  why_4: "Why weren't anti-test-masking patterns included in agent configurations?"
  answer_4: "Institutional knowledge of test masking risks was not captured"

  why_5: "Why wasn't test masking risk knowledge captured institutionally?"
  answer_5: "No systematic retrospective framework to capture and prevent failure patterns"
```

### Step 6: Failure Pattern Analysis

**Problem**: Identify patterns that could recur and affect other areas
**Solution**: Systematic pattern analysis using established pattern library

```yaml
pattern_analysis_process:
  pattern_identification:
    known_patterns: "Check against existing failure pattern library (25.02)"
    new_patterns: "Identify new patterns not previously documented"
    pattern_combinations: "Analyze interactions between multiple patterns"
    pattern_evolution: "Examine how patterns may evolve over time"

  pattern_classification:
    severity_assessment: "Classify pattern severity (Critical, High, Medium, Low)"
    scope_analysis: "Determine pattern scope (Local, Project, Institutional)"
    recurrence_risk: "Assess likelihood of pattern recurrence"
    propagation_potential: "Analyze potential for pattern to spread"

  pattern_documentation:
    recognition_indicators: "Document clear indicators for future recognition"
    development_process: "Document how pattern develops and escalates"
    prevention_requirements: "Identify prevention mechanisms needed"
    institutional_impact: "Analyze broader institutional implications"
```

### Step 7: Learning Outcome Identification

**Problem**: Capture specific, actionable learning outcomes
**Solution**: Structured identification of learning at multiple levels

```yaml
learning_outcome_identification:
  individual_agent_learning:
    behavioral_improvements: "Specific agent behavioral improvements needed"
    knowledge_gaps: "Knowledge or skills gaps identified"
    process_enhancements: "Individual process improvements"
    prevention_mechanisms: "Personal prevention mechanisms to adopt"

  team_coordination_learning:
    collaboration_improvements: "Multi-agent collaboration enhancements"
    communication_enhancements: "Improvements in agent communication"
    coordination_protocols: "Enhanced coordination protocols needed"
    collective_intelligence: "Collective learning and decision-making improvements"

  institutional_learning:
    process_improvements: "Organizational process improvements needed"
    cultural_enhancements: "Institutional culture improvements"
    system_improvements: "System and tool improvements required"
    policy_updates: "Organizational policy updates needed"

  prevention_learning:
    prevention_mechanisms: "Specific prevention mechanisms to implement"
    early_warning_systems: "Early warning systems to develop"
    detection_improvements: "Improved detection of failure patterns"
    response_protocols: "Enhanced response protocols for similar situations"
```

### Step 8: Prevention Mechanism Development

**Problem**: Develop specific, actionable prevention measures
**Solution**: Systematic development of prevention mechanisms at multiple levels

```yaml
prevention_mechanism_development:
  immediate_prevention:
    behavioral_constraints: "Enhanced agent behavioral constraints"
    validation_requirements: "Additional validation requirements"
    quality_gates: "Enhanced quality gates and checkpoints"
    monitoring_systems: "Real-time monitoring for pattern indicators"

  systematic_prevention:
    process_improvements: "Enhanced development processes"
    tool_enhancements: "Improved tools and automation"
    training_programs: "Enhanced training and education programs"
    cultural_changes: "Institutional culture improvements"

  long_term_prevention:
    institutional_resilience: "Building institutional immunity to patterns"
    adaptive_systems: "Self-improving systems that learn from failures"
    prevention_evolution: "Continuously evolving prevention mechanisms"
    cultural_transformation: "Deep cultural transformation for prevention"

  validation_requirements:
    prevention_testing: "Testing prevention mechanisms before implementation"
    effectiveness_measurement: "Measuring prevention mechanism effectiveness"
    continuous_improvement: "Ongoing improvement of prevention mechanisms"
    institutional_integration: "Integration into institutional operations"
```

## Memory Coordination and Documentation

### Step 9: Institutional Memory Storage

**Problem**: Ensure retrospective outcomes are preserved and accessible
**Solution**: Systematic storage in institutional memory with proper organization

```bash
# Retrospective Session Storage
store_retrospective_session() {
    local session_id="$(date +%Y%m%d_%H%M%S)_${retrospective_type}"
    local session_namespace="retrospective/sessions/${retrospective_type}/${session_id}"

    # Store complete session analysis
    mcp__claude-flow__memory_usage --action store \
      --namespace "${session_namespace}" \
      --key "complete_analysis" \
      --value "Complete retrospective analysis including 5-Why, patterns, learning, prevention"

    # Store specific learning outcomes
    mcp__claude-flow__memory_usage --action store \
      --namespace "retrospective/learning/outcomes/${session_id}" \
      --key "learning_summary" \
      --value "Specific learning outcomes and integration requirements"

    # Store prevention mechanisms
    mcp__claude-flow__memory_usage --action store \
      --namespace "retrospective/prevention/mechanisms/${session_id}" \
      --key "prevention_summary" \
      --value "Prevention mechanisms developed and implementation plan"
}

# Failure Pattern Storage
store_failure_patterns() {
    local pattern_id="$(date +%Y%m%d_%H%M%S)_${pattern_type}"
    local pattern_namespace="retrospective/patterns/failure/${pattern_type}"

    # Store pattern analysis
    mcp__claude-flow__memory_usage --action store \
      --namespace "${pattern_namespace}" \
      --key "${pattern_id}" \
      --value "Complete pattern analysis including recognition indicators and prevention"

    # Link to related patterns
    mcp__claude-flow__memory_usage --action store \
      --namespace "retrospective/patterns/relationships/${pattern_id}" \
      --key "related_patterns" \
      --value "Links to related patterns and interaction analysis"
}

# Agent Learning Storage
store_agent_learning() {
    local agent_type="$1"
    local learning_id="$(date +%Y%m%d_%H%M%S)_${agent_type}"

    mcp__claude-flow__memory_usage --action store \
      --namespace "retrospective/learning/agents/${agent_type}" \
      --key "${learning_id}" \
      --value "Specific agent learning outcomes and behavioral improvements"
}
```

### Step 10: Cross-Agent Learning Propagation

**Problem**: Ensure learning outcomes are shared across all relevant agents
**Solution**: Systematic propagation of learning outcomes through memory coordination

```yaml
learning_propagation_process:
  immediate_sharing:
    crisis_alerts: "Immediate alerts to all agents about crisis patterns"
    prevention_distribution: "Distribution of new prevention mechanisms"
    pattern_warnings: "Warnings about newly identified failure patterns"
    success_sharing: "Sharing of successful prevention outcomes"

  scheduled_propagation:
    learning_summaries: "Regular summaries of retrospective learning outcomes"
    pattern_updates: "Periodic updates to failure pattern library"
    prevention_reviews: "Regular reviews of prevention mechanism effectiveness"
    institutional_learning: "Periodic institutional learning integration"

  targeted_sharing:
    domain_specific: "Sharing learning outcomes with relevant domain experts"
    role_specific: "Sharing outcomes with agents in similar roles"
    project_specific: "Sharing outcomes with agents on similar projects"
    institutional_wide: "Institution-wide sharing of critical learning"
```

### Step 11: Follow-up and Validation

**Problem**: Ensure retrospective outcomes are implemented and effective
**Solution**: Systematic follow-up and validation process

```yaml
follow_up_validation_process:
  implementation_tracking:
    prevention_implementation: "Track implementation of prevention mechanisms"
    learning_integration: "Track integration of learning outcomes"
    behavioral_changes: "Track agent behavioral improvements"
    institutional_changes: "Track institutional changes and improvements"

  effectiveness_measurement:
    prevention_success: "Measure prevention mechanism effectiveness"
    pattern_recurrence: "Monitor for recurrence of identified patterns"
    learning_application: "Measure application of learning outcomes"
    institutional_improvement: "Measure institutional improvement indicators"

  continuous_improvement:
    retrospective_process_improvement: "Improve retrospective process based on outcomes"
    prevention_optimization: "Optimize prevention mechanisms based on effectiveness"
    learning_enhancement: "Enhance learning processes based on results"
    institutional_evolution: "Evolve institutional practices based on learning"
```

## Retrospective Session Templates

### Crisis Response Retrospective Template

```yaml
crisis_response_retrospective_agenda:
  session_setup: "15 minutes"
    - psychological_safety_establishment
    - objective_setting
    - framework_confirmation

  information_gathering: "30 minutes"
    - incident_timeline_reconstruction
    - evidence_collection
    - context_analysis
    - impact_assessment

  root_cause_analysis: "45 minutes"
    - five_why_analysis
    - contributing_factor_identification
    - systemic_issue_analysis
    - prevention_gap_analysis

  pattern_analysis: "30 minutes"
    - pattern_identification
    - pattern_classification
    - recurrence_risk_assessment
    - propagation_analysis

  learning_identification: "30 minutes"
    - individual_learning_outcomes
    - team_learning_outcomes
    - institutional_learning_outcomes
    - prevention_learning_outcomes

  prevention_development: "45 minutes"
    - immediate_prevention_mechanisms
    - systematic_prevention_improvements
    - long_term_prevention_strategies
    - validation_requirements

  memory_coordination: "15 minutes"
    - institutional_memory_storage
    - cross_agent_learning_propagation
    - follow_up_planning
    - validation_scheduling

  total_duration: "3.5_hours_or_until_completion"
```

### Routine Learning Retrospective Template

```yaml
routine_learning_retrospective_agenda:
  session_setup: "10 minutes"
    - objective_setting
    - scope_definition
    - participant_confirmation

  retrospective_scope_review: "20 minutes"
    - sprint_work_review
    - outcome_assessment
    - challenge_identification
    - success_recognition

  process_analysis: "30 minutes"
    - methodology_effectiveness_review
    - coordination_effectiveness_analysis
    - quality_standard_adherence_review
    - improvement_opportunity_identification

  learning_identification: "25 minutes"
    - individual_learning_outcomes
    - team_learning_outcomes
    - process_learning_outcomes
    - institutional_learning_outcomes

  improvement_planning: "20 minutes"
    - process_improvements
    - coordination_enhancements
    - quality_improvements
    - prevention_opportunities

  memory_coordination: "10 minutes"
    - learning_storage
    - improvement_tracking
    - follow_up_planning

  total_duration: "1.5_to_2_hours"
```

### Pattern Recognition Retrospective Template

```yaml
pattern_recognition_retrospective_agenda:
  session_setup: "10 minutes"
    - pattern_context_establishment
    - analysis_objective_setting
    - expertise_confirmation

  pattern_analysis: "40 minutes"
    - pattern_identification_validation
    - pattern_development_analysis
    - pattern_impact_assessment
    - pattern_relationship_analysis

  prevention_analysis: "30 minutes"
    - current_prevention_assessment
    - prevention_gap_identification
    - prevention_mechanism_development
    - prevention_effectiveness_planning

  learning_integration: "20 minutes"
    - pattern_learning_outcomes
    - prevention_learning_outcomes
    - institutional_learning_integration
    - knowledge_transfer_planning

  implementation_planning: "15 minutes"
    - prevention_implementation_plan
    - learning_integration_plan
    - validation_plan
    - follow_up_schedule

  memory_coordination: "10 minutes"
    - pattern_library_updates
    - prevention_mechanism_storage
    - learning_outcome_storage

  total_duration: "2_to_2.5_hours"
```

## Quality Assurance for Retrospectives

### Retrospective Quality Checklist

```yaml
retrospective_quality_checklist:
  analysis_completeness:
    - [ ] Complete 5-Why analysis conducted
    - [ ] All relevant patterns identified and analyzed
    - [ ] Comprehensive learning outcomes identified
    - [ ] Specific prevention mechanisms developed
    - [ ] All perspectives included in analysis

  documentation_quality:
    - [ ] Complete session documentation created
    - [ ] All analysis properly documented
    - [ ] Learning outcomes clearly articulated
    - [ ] Prevention mechanisms specifically defined
    - [ ] Follow-up plans clearly established

  memory_coordination:
    - [ ] All outcomes stored in institutional memory
    - [ ] Cross-agent learning properly propagated
    - [ ] Pattern library updated as needed
    - [ ] Prevention mechanisms accessible for activation
    - [ ] Follow-up validation scheduled

  institutional_integration:
    - [ ] Learning outcomes integrated into agent behaviors
    - [ ] Prevention mechanisms implemented in operations
    - [ ] Institutional knowledge updated
    - [ ] Process improvements implemented
    - [ ] Cultural changes initiated as needed
```

### Common Retrospective Mistakes to Avoid

```yaml
retrospective_mistakes_to_avoid:
  analysis_mistakes:
    surface_level_analysis: "Stopping at surface symptoms rather than root causes"
    blame_focus: "Focusing on blame rather than learning and improvement"
    scope_limitation: "Limiting analysis to narrow scope instead of systemic view"
    pattern_ignorance: "Ignoring pattern recognition and recurrence prevention"

  documentation_mistakes:
    incomplete_documentation: "Inadequate documentation of analysis and outcomes"
    learning_vagueness: "Vague learning outcomes that can't be acted upon"
    prevention_generality: "General prevention ideas rather than specific mechanisms"
    memory_coordination_skip: "Failing to properly store outcomes in institutional memory"

  implementation_mistakes:
    follow_up_absence: "No follow-up to ensure implementation and effectiveness"
    learning_isolation: "Keeping learning isolated rather than sharing across agents"
    prevention_delay: "Delaying implementation of prevention mechanisms"
    institutional_disconnect: "Failing to integrate learning into institutional operations"

  cultural_mistakes:
    blameful_environment: "Creating blame-focused rather than learning-focused environment"
    defensive_participation: "Defensive participation rather than open learning"
    implementation_resistance: "Resistance to implementing learning outcomes"
    institutional_learning_disconnect: "Disconnecting individual learning from institutional improvement"
```

## Document Metadata

- **AC.ID**: 25.03
- **Di√°taxis Type**: How-To
- **Last Updated**: 2025-09-28
- **Cross-References**: 25.01, 25.02, 60.15-60.18
- **Authority Level**: Secondary (extends global standards with project-specific processes)
- **Status**: Production Ready
- **Usage**: Primary guide for conducting and recording retrospective sessions

## Conclusion

This comprehensive guide provides agents with systematic, step-by-step procedures for conducting effective retrospective sessions that capture learning outcomes and prevent future failures. By following these structured processes, agents ensure that retrospectives become powerful tools for institutional learning and continuous improvement.

The emphasis on systematic analysis, comprehensive documentation, and institutional memory integration transforms retrospectives from reactive exercises into proactive learning systems that build organizational resilience and prevent crisis recurrence.

**Key Implementation Principle**: Effective retrospectives require systematic process, comprehensive analysis, and institutional integration to transform failures into learning assets that prevent future crises.