# Four-Eyes Principle Enforcement Framework

**CRITICAL: MANDATORY PEER VALIDATION FOR ALL CONTENT**

## ðŸ“‹ Content Validation Checklist (BLOCKING QUALITY GATES)

### âœ… **MANDATORY PRE-PUBLICATION VALIDATION**

Every content piece MUST pass 100% of these validation gates before publication:

#### **1. Image Reference Validation (100% Required)**
```bash
âœ“ All image references point to existing files
âœ“ Image files are properly optimized (WebP/AVIF when possible)
âœ“ Alt text is descriptive and meaningful (not "image" or "photo")
âœ“ Image dimensions are appropriate for context
âœ“ Cover images follow naming convention: cover.[ext]
âœ“ No broken image references in markdown
âœ“ Image file sizes are optimized (<500KB for photos, <100KB for graphics)
```

#### **2. Link Validation (100% Required)**
```bash
âœ“ All internal links resolve to existing pages
âœ“ All external links return 200 status codes
âœ“ No placeholder links (#, javascript:void(0), etc.)
âœ“ Canonical URLs are correctly formatted
âœ“ Social media links are current and valid
âœ“ Download links point to existing files
```

#### **3. SEO Metadata Compliance (100% Required)**
```bash
âœ“ Title tag exists and is 50-60 characters
âœ“ Meta description exists and is 150-160 characters
âœ“ Cover image specified in frontmatter
âœ“ Canonical URL properly set
âœ“ Tags array populated with relevant keywords
âœ“ OpenGraph metadata complete
âœ“ Twitter Card metadata present
âœ“ Structured data markup validated
```

#### **4. Content Quality Standards (100% Required)**
```bash
âœ“ No placeholder text (Lorem ipsum, TODO, TBD)
âœ“ No broken frontmatter YAML syntax
âœ“ Date formats follow ISO 8601 standard
âœ“ Proper heading hierarchy (h1 â†’ h2 â†’ h3)
âœ“ No spelling or grammar errors
âœ“ Content matches title and description
âœ“ All code blocks have language specification
```

#### **5. Hugo Template Compliance (100% Required)**
```bash
âœ“ Frontmatter follows site content model
âœ“ Required fields populated (title, description, date)
âœ“ Hugo shortcodes render without errors
âœ“ Template variables properly escaped
âœ“ No template syntax errors
âœ“ Cross-references work correctly
```

## ðŸ›¡ï¸ Four-Eyes Review Protocol (MANDATORY)

### **Stage 1: Content Creation Review**
**Roles**: Content Creator + Content Reviewer
**Validation**: Basic content quality and structure

```bash
# Content Creator Responsibilities
1. Create content following validation checklist
2. Run automated validation script
3. Fix all blocking issues
4. Request peer review via memory coordination

# Content Reviewer Responsibilities
1. Validate all checklist items independently
2. Test all links and image references
3. Verify SEO metadata completeness
4. Approve or reject with specific feedback
```

### **Stage 2: Technical Implementation Review**
**Roles**: Technical Implementer + Technical Reviewer
**Validation**: Hugo build and deployment readiness

```bash
# Technical Implementer Responsibilities
1. Verify Hugo build succeeds with new content
2. Test responsive design and accessibility
3. Validate performance impact
4. Check for console errors

# Technical Reviewer Responsibilities
1. Independent Hugo build validation
2. Cross-browser compatibility check
3. Lighthouse audit score verification
4. Security review for external resources
```

### **Stage 3: Quality Assurance Review**
**Roles**: QA Specialist + Domain Expert
**Validation**: Final publication readiness

```bash
# QA Specialist Responsibilities
1. Comprehensive end-to-end testing
2. Mobile device compatibility
3. SEO audit and validation
4. Performance metrics verification

# Domain Expert Responsibilities
1. Content accuracy and relevance
2. Brand voice and tone consistency
3. Technical content correctness
4. Strategic alignment verification
```

## ðŸ“Š Memory Coordination Protocol

### **Review Request Pattern**
```bash
# Store review request
npx claude-flow@alpha hooks memory-store \
  --key "four-eyes/content-review/$(date +%s)" \
  --value "content:[file_path],stage:[1-3],reviewer:[agent_id],status:pending"

# Track review status
npx claude-flow@alpha hooks memory-retrieve \
  --pattern "four-eyes/content-review/*" \
  --status "pending"
```

### **Approval Tracking**
```bash
# Record approval/rejection
npx claude-flow@alpha hooks memory-store \
  --key "four-eyes/approval/$(basename $file)" \
  --value "reviewer:[id],status:[approved|rejected],timestamp:$(date -Iseconds),issues:[list]"
```

## ðŸš¨ **BLOCKING ENFORCEMENT**

### **Zero-Tolerance Rules**
- **NO PUBLICATION** without dual approval
- **NO EXCEPTIONS** to validation checklist
- **IMMEDIATE ROLLBACK** for violations
- **MANDATORY FIXES** for all identified issues

### **Escalation Protocol**
```bash
# Critical issue escalation
if [[ $validation_failures -gt 0 ]]; then
    echo "ðŸš¨ BLOCKING: Content validation failed"
    echo "ðŸ“‹ Issues: $validation_issues"
    echo "ðŸ›¡ï¸ Required: Fix all issues + re-review"
    exit 1
fi
```

### **Quality Gates**
```bash
# Pre-commit validation
validate_content() {
    local file=$1
    local errors=0

    # Image validation
    if ! validate_images "$file"; then
        echo "âŒ BLOCKING: Image reference failures"
        ((errors++))
    fi

    # Link validation
    if ! validate_links "$file"; then
        echo "âŒ BLOCKING: Broken links detected"
        ((errors++))
    fi

    # SEO validation
    if ! validate_seo_metadata "$file"; then
        echo "âŒ BLOCKING: SEO metadata incomplete"
        ((errors++))
    fi

    # Hugo validation
    if ! hugo --quiet --dry-run; then
        echo "âŒ BLOCKING: Hugo build failure"
        ((errors++))
    fi

    return $errors
}
```

## ðŸ“ˆ Success Metrics

### **Quality Indicators**
- **Zero-defect publication rate**: 100%
- **First-pass approval rate**: >80%
- **Average review cycle time**: <2 hours
- **Post-publication issues**: 0

### **Review Effectiveness**
- **Peer review coverage**: 100%
- **Automated validation pass rate**: >95%
- **Manual issue detection**: <5%
- **Re-work incidents**: <10%

---

**Remember**: Four-eyes principle is not optional. It's a mandatory quality gate that ensures zero-defect content publication and maintains the highest standards of professional excellence.