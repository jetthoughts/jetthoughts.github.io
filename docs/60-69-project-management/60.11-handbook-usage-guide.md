# Agent Handbook Usage Guide

## üìö Quick Reference for Agents

This guide explains how to use the new modular handbook system after CLAUDE.md optimization migration.

## üéØ Reading Hierarchy

### 1. Start with Main Configuration
**File**: `/projects/jt_site/CLAUDE.md`
**Purpose**: Core coordination, quick navigation, essential references
**When to Read**: Every agent startup, project initialization
**Size**: <40K characters (optimized for fast loading)

### 2. Reference Knowledge Base Files
**Location**: `/projects/jt_site/docs/[area]/AC.ID-content-type.md`
**Purpose**: Detailed policies, methodologies, standards
**When to Read**: When specific policy guidance needed
**Navigation**: Follow cross-references from main CLAUDE.md

### 3. Consult Agent Handbooks
**Location**: `/projects/jt_site/.claude/agents/handbooks/[agent]-handbook.md`
**Purpose**: Agent-specific behavior, specialized workflows
**When to Read**: Before executing agent-specific tasks
**Size**: 2-3K tokens per handbook (focused content)

## üîç Mandatory Reading Protocols

### For All Agents
```bash
agent_startup_checklist:
  1. ‚úÖ Read main CLAUDE.md (project overview and coordination)
  2. ‚úÖ Identify relevant knowledge base files from references
  3. ‚úÖ Load your specific agent handbook
  4. ‚úÖ Apply coordinated policies during task execution
```

### Knowledge Base Quick Reference
```yaml
essential_knowledge_files:
  four_eyes_principle: "docs/40-49-security-compliance/40.01-four-eyes-principle-reference.md"
  anti_duplication: "docs/30-39-architecture-design/35.02-anti-duplication-enforcement-rules.md"
  tdd_standards: "docs/20-29-testing-qa/20.01-tdd-standards-reference.md"
  zero_defect_philosophy: "docs/90-99-content-strategy/90.01-zero-defect-philosophy-explanation.md"
```

## ü§ñ Agent-Specific Handbook Usage

### Coder Agents
**Handbook**: `.claude/agents/handbooks/coder-handbook.md`
**Key Sections**:
- Implementation protocols with TDD methodology
- Zero-defect quality standards enforcement
- Anti-duplication tool usage (Edit vs Write)
- Security-first development practices
- Micro-refactoring guidelines

### Reviewer Agents
**Handbook**: `.claude/agents/handbooks/reviewer-handbook.md`
**Key Sections**:
- Four-Eyes Principle coordination protocols
- Quality gate enforcement procedures
- Breaking change detection methods
- Configuration validation standards
- Cross-agent communication patterns

### Tester Agents
**Handbook**: `.claude/agents/handbooks/tester-handbook.md`
**Key Sections**:
- TDD methodology application
- Test coverage requirements (>80% statements, >75% branches)
- 5-Phase refactor protocol
- Prevention-first testing approach
- Quality gate validation

### Planner Agents
**Handbook**: `.claude/agents/handbooks/planner-handbook.md`
**Key Sections**:
- SPARC methodology implementation
- Sprint planning and Agile coordination
- Task breakdown and prioritization
- Cross-agent coordination planning
- Memory-driven workflow management

## üìñ Cross-Reference Navigation

### Reference Format
All cross-references use this standard format:
```markdown
**Policy Name**: See [filename](relative-path-to-file)

Examples:
- **Four-Eyes Principle**: See [40.01-four-eyes-principle-reference.md](docs/40-49-security-compliance/40.01-four-eyes-principle-reference.md)
- **Coder Behavior**: See [coder-handbook.md](.claude/agents/handbooks/coder-handbook.md)
```

### Navigation Patterns
```bash
# From main CLAUDE.md
main_config ‚Üí knowledge_file ‚Üí agent_handbook ‚Üí implementation

# Cross-references examples
CLAUDE.md ‚Üí "See 40.01-four-eyes..." ‚Üí Four-Eyes details ‚Üí Apply to workflow
CLAUDE.md ‚Üí "See coder-handbook..." ‚Üí Coder behaviors ‚Üí Execute with standards
```

## üõ†Ô∏è Implementation Workflow

### Phase 1: Configuration Loading
```yaml
configuration_loading:
  step_1: "Load main CLAUDE.md for project context"
  step_2: "Parse cross-references for relevant knowledge"
  step_3: "Load agent-specific handbook"
  step_4: "Cache frequently accessed policies"
```

### Phase 2: Task Execution
```yaml
task_execution:
  step_1: "Apply main config coordination rules"
  step_2: "Reference specific knowledge as needed"
  step_3: "Follow agent handbook behavioral protocols"
  step_4: "Coordinate with other agents per Four-Eyes Principle"
```

### Phase 3: Quality Validation
```yaml
quality_validation:
  step_1: "Validate against zero-defect standards"
  step_2: "Apply anti-duplication enforcement"
  step_3: "Ensure Four-Eyes coordination compliance"
  step_4: "Document outcomes in memory coordination"
```

## üìã Johnny Decimal Navigation System

### Area Codes Quick Reference
```yaml
knowledge_base_areas:
  10_19_core_development: "Core practices and methodologies"
  20_29_testing_qa: "Testing standards and quality assurance"
  30_39_architecture_design: "Architecture patterns and design"
  40_49_security_compliance: "Security practices and compliance"
  50_59_deployment_operations: "Deployment and operational procedures"
  60_69_project_management: "Project coordination and management"
  70_79_templates_boilerplates: "Reusable templates and examples"
  80_89_integration_apis: "Integration patterns and API standards"
  90_99_content_strategy: "Philosophy and strategic approaches"
```

### File Naming Pattern
```bash
filename_pattern: "AC.ID-content-type.md"

Examples:
- 20.01-tdd-standards-reference.md (Area 20, ID 01, Reference type)
- 40.01-four-eyes-principle-reference.md (Area 40, ID 01, Reference type)
- 35.02-anti-duplication-enforcement-rules.md (Area 35, ID 02, Rules type)
```

## ‚ö° Performance Optimization Tips

### Efficient Reading Strategies
```bash
performance_tips:
  1. "Cache frequently accessed knowledge files"
  2. "Use specific file references rather than scanning"
  3. "Load agent handbook once per session"
  4. "Leverage cross-references for quick navigation"
  5. "Parallel load multiple knowledge files when possible"
```

### Memory Usage Optimization
```yaml
memory_optimization:
  selective_loading: "Load only required knowledge files"
  cache_strategy: "Cache agent handbook and main config"
  context_reuse: "Reuse loaded content across similar tasks"
  memory_efficiency: "50-60% reduction vs monolithic structure"
```

## üîÑ Update and Maintenance

### Content Update Process
```bash
update_workflow:
  1. "Identify specific file requiring update"
  2. "Edit targeted file (not entire system)"
  3. "Validate cross-references remain intact"
  4. "Test affected agent behaviors"
  5. "Update version tracking and documentation"
```

### Agent Handbook Maintenance
```yaml
handbook_maintenance:
  frequency: "As needed based on agent evolution"
  scope: "Single agent behavior modifications"
  impact: "Isolated to specific agent type"
  validation: "Test agent coordination post-update"
```

## üöÄ Migration Support

### Transition Period Support
During the transition from monolithic to modular structure:

1. **Gradual Adoption**: Start with main CLAUDE.md, add knowledge files as needed
2. **Parallel Reference**: Original content available during transition
3. **Support Resources**: Migration team available for guidance
4. **Rollback Option**: Full rollback capability if issues arise

### Common Issues & Solutions
```yaml
common_issues:
  cross_reference_broken:
    solution: "Check file path accuracy, validate existence"

  handbook_not_found:
    solution: "Verify agent type, check handbook creation status"

  performance_concerns:
    solution: "Monitor load times, optimize caching strategy"

  coordination_confusion:
    solution: "Review Four-Eyes Principle coordination patterns"
```

## üìû Support Contacts

### During Migration Period
- **Technical Issues**: Migration Architect
- **Content Questions**: Content Extractor
- **Agent Behavior**: Agent Specialist
- **Performance**: Performance Analyst

### Post-Migration Support
- **System Issues**: Development Team Lead
- **Content Updates**: Documentation Maintainer
- **Agent Evolution**: Agent Configuration Manager

---

**Guide Version**: 1.0
**Last Updated**: September 13, 2025
**Next Review**: Post-migration completion